{"code":"(this.webpackJsonpchatfrontend=this.webpackJsonpchatfrontend||[]).push([[0],{159:function(e,t,n){},166:function(e,t){},168:function(e,t){},178:function(e,t){},180:function(e,t){},207:function(e,t){},209:function(e,t){},210:function(e,t){},215:function(e,t){},217:function(e,t){},223:function(e,t){},225:function(e,t){},244:function(e,t){},256:function(e,t){},259:function(e,t){},270:function(e,t,n){},271:function(e,t,n){},273:function(e,t,n){},299:function(e,t,n){\"use strict\";n.r(t);var c=n(157),s=n(37),r=(n(159),n(160)),a=\"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\",o=n(0),i=n.n(o),j=n(36),u=n(1);var l=function(e){var t=e.username,n=e.roomname,i=e.socket,l=Object(o.useState)(\"\"),h=Object(s.a)(l,2),d=h[0],b=h[1],m=Object(o.useState)([]),O=Object(s.a)(m,2),x=O[0],f=O[1],p=Object(j.b)();Object(o.useEffect)((function(){i.on(\"message\",(function(e){var t,n,s,o=function(e,t){return e.startsWith(\"Welcome\")||e.startsWith(t)?e:r.decrypt(a,e)}(e.text,e.username);t=!1,n=o,s=e.text,p(function(e,t,n){return{type:\"PROCESS\",payload:{encrypt:e,text:t,cypher:n}}}(t,n,s)),console.log(o);var i=x;i.push({userId:e.userId,username:e.username,text:o}),f(Object(c.a)(i))}))}),[i]);var v=function(){if(\"\"!==d){var e=function(e){return r.encrypt(a,e)}(d);i.emit(\"chat\",e),b(\"\")}},g=Object(o.useRef)(null);return Object(o.useEffect)((function(){g.current.scrollIntoView({behavior:\"smooth\"})}),[x]),console.log(x,\"mess\"),Object(u.jsxs)(\"div\",{className:\"chat\",children:[Object(u.jsx)(\"div\",{className:\"user-name\",children:Object(u.jsxs)(\"h2\",{children:[t,\" \",Object(u.jsxs)(\"span\",{style:{fontSize:\"0.7rem\"},children:[\"in \",n]})]})}),Object(u.jsxs)(\"div\",{className:\"chat-message\",children:[x.map((function(e){return e.username===t?Object(u.jsxs)(\"div\",{className:\"message\",children:[Object(u.jsx)(\"p\",{children:e.text}),Object(u.jsx)(\"span\",{children:e.username})]}):Object(u.jsxs)(\"div\",{className:\"message mess-right\",children:[Object(u.jsxs)(\"p\",{children:[e.text,\" \"]}),Object(u.jsx)(\"span\",{children:e.username})]})})),Object(u.jsx)(\"div\",{ref:g})]}),Object(u.jsxs)(\"div\",{className:\"send\",children:[Object(u.jsx)(\"input\",{placeholder:\"enter your message\",value:d,onChange:function(e){return b(e.target.value)},onKeyPress:function(e){\"Enter\"===e.key&&v()}}),Object(u.jsx)(\"button\",{onClick:v,children:\"Send\"})]})]})};n(270);var h=function(){var e=Object(j.c)((function(e){return e.ProcessReducer}));return Object(u.jsxs)(\"div\",{className:\"process\",children:[Object(u.jsxs)(\"h5\",{children:[\"Secret Key : \",Object(u.jsx)(\"span\",{children:'\"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\"'})]}),Object(u.jsxs)(\"div\",{className:\"incoming\",children:[Object(u.jsx)(\"h4\",{children:\"Incoming Data\"}),Object(u.jsx)(\"p\",{children:e.cypher})]}),Object(u.jsxs)(\"div\",{className:\"crypt\",children:[Object(u.jsx)(\"h4\",{children:\"Decypted Data\"}),Object(u.jsx)(\"p\",{children:e.text})]})]})},d=(n(271),n(58));var b=function(e){var t=e.socket,n=Object(o.useState)(\"\"),c=Object(s.a)(n,2),r=c[0],a=c[1],i=Object(o.useState)(\"\"),j=Object(s.a)(i,2),l=j[0],h=j[1];return Object(u.jsxs)(\"div\",{className:\"homepage\",children:[Object(u.jsx)(\"h1\",{children:\"Welcome to ChatApp\"}),Object(u.jsx)(\"input\",{placeholder:\"Input your user name\",value:r,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)(\"input\",{placeholder:\"Input the room name\",value:l,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)(d.b,{to:\"/chat/\".concat(l,\"/\").concat(r),children:Object(u.jsx)(\"button\",{onClick:function(){\"\"!==r&&\"\"!==l?t.emit(\"joinRoom\",{username:r,roomname:l}):(alert(\"username and roomname are must !\"),window.location.reload())},children:\"Join\"})})]})},m=n(5),O=(n(273),n(156)),x=n.n(O).a.connect(\"/\");function f(e){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"right\",children:Object(u.jsx)(l,{username:e.match.params.username,roomname:e.match.params.roomname,socket:x})}),Object(u.jsx)(\"div\",{className:\"left\",children:Object(u.jsx)(h,{})})]})}var p=function(){return Object(u.jsx)(d.a,{children:Object(u.jsx)(\"div\",{className:\"App\",children:Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{path:\"/\",exact:!0,children:Object(u.jsx)(b,{socket:x})}),Object(u.jsx)(m.a,{path:\"/chat/:roomname/:username\",component:f})]})})})},v=n(158),g=n(59),y=Object(g.a)({ProcessReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return\"PROCESS\"===t.type?Object(v.a)({},t.payload):e}}),S=y,N=n(56),I=n.n(N),k=Object(g.b)(S);I.a.render(Object(u.jsx)(j.a,{store:k,children:Object(u.jsx)(p,{})}),document.getElementById(\"root\"))}},[[299,1,2]]]);","name":"static/js/main.18512269.chunk.js","map":{"version":3,"sources":["static/js/main.18512269.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","toConsumableArray","slicedToArray","aes256","secret_key","react","react_default","n","es","jsx_runtime","chat_chat","_ref","username","roomname","socket","_useState","Object","_useState2","text","setText","_useState3","_useState4","messages","setMessages","dispatch","on","data","encrypt","msg","cipher","ans","startsWith","decrypt","to_Decrypt","cypher","type","payload","process","console","log","temp","userId","sendData","to_Encrypt","emit","messagesEndRef","current","scrollIntoView","behavior","className","children","style","fontSize","map","i","ref","placeholder","value","onChange","e","target","onKeyPress","key","onClick","src_process_process","state","ProcessReducer","react_router_dom","home_home","setusername","setroomname","to","concat","alert","window","location","reload","react_router","build","App_socket","a","connect","Appmain","props","Fragment","match","params","src_App","path","exact","component","objectSpread2","redux","rootReducers","arguments","length","undefined","action","reducer","react_dom","react_dom_default","store","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchatfrontend\"] = this[\"webpackJsonpchatfrontend\"] || []).push([[0],{\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 223:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 225:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(157);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./src/chat/chat.scss\nvar chat = __webpack_require__(159);\n\n// CONCATENATED MODULE: ./src/aes.js\nvar aes256=__webpack_require__(160);//the secret key used for encrypting and decrypting messages\nvar secret_key=\"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\";//returns the encrypted text\nvar to_Encrypt=function to_Encrypt(text){var encrypted=aes256.encrypt(secret_key,text);return encrypted;};//welcome message is not decrypted\nvar to_Decrypt=function to_Decrypt(cipher,username){if(cipher.startsWith(\"Welcome\")){return cipher;}if(cipher.startsWith(username)){return cipher;}//decryped message is returned\nvar decrypted=aes256.decrypt(secret_key,cipher);return decrypted;};\n// CONCATENATED MODULE: ./src/store/action/index.js\nvar process=function process(encrypt,text,cypher){return{type:\"PROCESS\",payload:{encrypt:encrypt,text:text,cypher:cypher}};};\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/chat/chat.js\n//gets the data from the action object and reducers defined earlier\nfunction Chat(_ref){var username=_ref.username,roomname=_ref.roomname,socket=_ref.socket;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var dispatch=Object(es[\"b\" /* useDispatch */])();var dispatchProcess=function dispatchProcess(encrypt,msg,cipher){dispatch(process(encrypt,msg,cipher));};Object(react[\"useEffect\"])(function(){socket.on(\"message\",function(data){//decypt the message\nvar ans=to_Decrypt(data.text,data.username);dispatchProcess(false,ans,data.text);console.log(ans);var temp=messages;temp.push({userId:data.userId,username:data.username,text:ans});setMessages(Object(toConsumableArray[\"a\" /* default */])(temp));});},[socket]);var sendData=function sendData(){if(text!==\"\"){//encrypt the message here\nvar ans=to_Encrypt(text);socket.emit(\"chat\",ans);setText(\"\");}};var messagesEndRef=Object(react[\"useRef\"])(null);var scrollToBottom=function scrollToBottom(){messagesEndRef.current.scrollIntoView({behavior:\"smooth\"});};Object(react[\"useEffect\"])(scrollToBottom,[messages]);console.log(messages,\"mess\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[username,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{fontSize:\"0.7rem\"},children:[\"in \",roomname]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-message\",children:[messages.map(function(i){if(i.username===username){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:i.text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:i.username})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message mess-right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[i.text,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:i.username})]});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"send\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"enter your message\",value:text,onChange:function onChange(e){return setText(e.target.value);},onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){sendData();}}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:sendData,children:\"Send\"})]})]});}/* harmony default export */ var chat_chat = (Chat);\n// EXTERNAL MODULE: ./src/process/process.scss\nvar process_process = __webpack_require__(270);\n\n// CONCATENATED MODULE: ./src/process/process.js\nfunction Process(){// returns new state from the reducers\nvar state=Object(es[\"c\" /* useSelector */])(function(state){return state.ProcessReducer;});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"process\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h5\",{children:[\"Secret Key : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"\\\"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\\\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"incoming\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Incoming Data\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:state.cypher})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"crypt\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Decypted Data\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:state.text})]})]});}/* harmony default export */ var src_process_process = (Process);\n// EXTERNAL MODULE: ./src/home/home.scss\nvar home = __webpack_require__(271);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(58);\n\n// CONCATENATED MODULE: ./src/home/home.js\nfunction Homepage(_ref){var socket=_ref.socket;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setusername=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomname=_useState4[0],setroomname=_useState4[1];//activates joinRoom function defined on the backend\nvar sendData=function sendData(){if(username!==\"\"&&roomname!==\"\"){socket.emit(\"joinRoom\",{username:username,roomname:roomname});//if empty error message pops up and returns to the same page\n}else{alert(\"username and roomname are must !\");window.location.reload();}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"homepage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to ChatApp\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Input your user name\",value:username,onChange:function onChange(e){return setusername(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Input the room name\",value:roomname,onChange:function onChange(e){return setroomname(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/chat/\".concat(roomname,\"/\").concat(username),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:sendData,children:\"Join\"})})]});}/* harmony default export */ var home_home = (Homepage);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/App.scss\nvar App = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(156);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_socket=build_default.a.connect('/');function Appmain(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chat_chat,{username:props.match.params.username,roomname:props.match.params.roomname,socket:App_socket})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"left\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_process_process,{})})]});}function App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(home_home,{socket:App_socket})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/chat/:roomname/:username\",component:Appmain})]})})});}/* harmony default export */ var src_App = (App_App);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(158);\n\n// CONCATENATED MODULE: ./src/store/reducer/process.js\n//initialiaze the function with two arguments\nvar process_ProcessReducer=function ProcessReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//returns updated state\ncase\"PROCESS\":return Object(objectSpread2[\"a\" /* default */])({},action.payload);//else the current state is retained\ndefault:return state;}};\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 2 modules\nvar redux = __webpack_require__(59);\n\n// CONCATENATED MODULE: ./src/store/reducer/index.js\n// import the reducers\n// define the object and call the action\nvar rootReducers=Object(redux[\"a\" /* combineReducers */])({ProcessReducer:process_ProcessReducer});// else return default root reducer\n/* harmony default export */ var reducer = (rootReducers);\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(56);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// CONCATENATED MODULE: ./src/index.js\n//here we create an object to store the current state of the application\nvar store=Object(redux[\"b\" /* createStore */])(reducer);react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[299,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/dhairya/Desktop/Project/chatfrontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/dhairya/Desktop/Project/chatfrontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/dhairya/Desktop/Project/chatfrontend/node_modules/postcss-loader/src/index.js??postcss!/home/dhairya/Desktop/Project/chatfrontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/dhairya/Desktop/Project/chatfrontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/dhairya/Desktop/Project/chatfrontend/src/chat/chat.scss","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/hash-base/node_modules/readable-stream/lib util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/hash-base/node_modules/readable-stream/lib/internal/streams util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/readable-stream/lib util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/readable-stream/lib/internal/streams util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/diffie-hellman/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/miller-rabin/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/brorand crypto","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/browserify-sign/node_modules/readable-stream/lib util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/browserify-sign/node_modules/readable-stream/lib/internal/streams util","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/asn1.js/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/create-ecdh/node_modules/bn.js/lib buffer","ignored /home/dhairya/Desktop/Project/chatfrontend/node_modules/public-encrypt/node_modules/bn.js/lib buffer","/home/dhairya/Desktop/Project/chatfrontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/dhairya/Desktop/Project/chatfrontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/dhairya/Desktop/Project/chatfrontend/node_modules/postcss-loader/src/index.js??postcss!/home/dhairya/Desktop/Project/chatfrontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/dhairya/Desktop/Project/chatfrontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/dhairya/Desktop/Project/chatfrontend/src/process/process.scss","/home/dhairya/Desktop/Project/chatfrontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/dhairya/Desktop/Project/chatfrontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/dhairya/Desktop/Project/chatfrontend/node_modules/postcss-loader/src/index.js??postcss!/home/dhairya/Desktop/Project/chatfrontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/dhairya/Desktop/Project/chatfrontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/dhairya/Desktop/Project/chatfrontend/src/home/home.scss","/home/dhairya/Desktop/Project/chatfrontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/dhairya/Desktop/Project/chatfrontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/dhairya/Desktop/Project/chatfrontend/node_modules/postcss-loader/src/index.js??postcss!/home/dhairya/Desktop/Project/chatfrontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/dhairya/Desktop/Project/chatfrontend/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/dhairya/Desktop/Project/chatfrontend/src/App.scss","/home/dhairya/Desktop/Project/chatfrontend/src/aes.js","/home/dhairya/Desktop/Project/chatfrontend/src/store/action/index.js","/home/dhairya/Desktop/Project/chatfrontend/src/chat/chat.js","/home/dhairya/Desktop/Project/chatfrontend/src/process/process.js","/home/dhairya/Desktop/Project/chatfrontend/src/home/home.js","/home/dhairya/Desktop/Project/chatfrontend/src/App.js","/home/dhairya/Desktop/Project/chatfrontend/src/store/reducer/process.js","/home/dhairya/Desktop/Project/chatfrontend/src/store/reducer/index.js","/home/dhairya/Desktop/Project/chatfrontend/src/index.js"],"names":["aes256","require","secret_key","to_Encrypt","text","encrypted","encrypt","to_Decrypt","cipher","username","startsWith","decrypted","decrypt","process","cypher","type","payload","Chat","roomname","socket","useState","setText","messages","setMessages","dispatch","useDispatch","dispatchProcess","msg","useEffect","on","data","ans","console","log","temp","push","userId","sendData","emit","messagesEndRef","useRef","scrollToBottom","current","scrollIntoView","behavior","fontSize","map","i","e","target","value","key","Process","state","useSelector","ProcessReducer","Homepage","setusername","setroomname","alert","window","location","reload","io","connect","Appmain","props","match","params","App","action","rootReducers","combineReducers","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var aes256 = require(\"aes256\");\n//the secret key used for encrypting and decrypting messages\nvar secret_key = \"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\";\n//returns the encrypted text\nexport const to_Encrypt = (text) => {\n  var encrypted = aes256.encrypt(secret_key, text);\n  return encrypted;\n};\n//welcome message is not decrypted\nexport const to_Decrypt = (cipher, username) => {\n  if (cipher.startsWith(\"Welcome\")) {\n    return cipher;\n  }\n\n  if (cipher.startsWith(username)) {\n    return cipher;\n  }\n  //decryped message is returned\n  var decrypted = aes256.decrypt(secret_key, cipher);\n  return decrypted;\n};\n","export const process = (encrypt, text, cypher) => {\n  return {\n    type: \"PROCESS\",\n    payload: {\n      encrypt,\n      text,\n      cypher,\n    },\n  };\n};","import \"./chat.scss\";\nimport { to_Decrypt, to_Encrypt } from \"../aes.js\";\nimport { process } from \"../store/action/index\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\n//gets the data from the action object and reducers defined earlier\nfunction Chat({ username, roomname, socket }) {\n  const [text, setText] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const dispatch = useDispatch();\n  \n  const dispatchProcess = (encrypt, msg, cipher) => {\n    dispatch(process(encrypt, msg, cipher));\n  };\n\n  useEffect(() => {\n    socket.on(\"message\", (data) => {\n      //decypt the message\n      const ans = to_Decrypt(data.text, data.username);\n      dispatchProcess(false, ans, data.text);\n      console.log(ans);\n      let temp = messages;\n      temp.push({\n        userId: data.userId,\n        username: data.username,\n        text: ans,\n      });\n      setMessages([...temp]);\n    });\n  }, [socket]);\n\n  const sendData = () => {\n    if (text !== \"\") {\n      //encrypt the message here\n      const ans = to_Encrypt(text);\n      socket.emit(\"chat\", ans);\n      setText(\"\");\n    }\n  };\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  console.log(messages, \"mess\");\n\n  return (\n    <div className=\"chat\">\n      <div className=\"user-name\">\n        <h2>\n          {username} <span style={{ fontSize: \"0.7rem\" }}>in {roomname}</span>\n        </h2>\n      </div>\n      <div className=\"chat-message\">\n        {messages.map((i) => {\n          if (i.username === username) {\n            return (\n              <div className=\"message\">\n                <p>{i.text}</p>\n                <span>{i.username}</span>\n              </div>\n            );\n          } else {\n            return (\n              <div className=\"message mess-right\">\n                <p>{i.text} </p>\n                <span>{i.username}</span>\n              </div>\n            );\n          }\n        })}\n        <div ref={messagesEndRef} />\n      </div>\n      <div className=\"send\">\n        <input\n          placeholder=\"enter your message\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              sendData();\n            }\n          }}\n        ></input>\n        <button onClick={sendData}>Send</button>\n      </div>\n    </div>\n  );\n}\nexport default Chat;\n","import \"./process.scss\";\nimport { useSelector } from \"react-redux\";\nfunction Process() {\n  // returns new state from the reducers\n  const state = useSelector((state) => state.ProcessReducer);\n\n  return (\n    <div className=\"process\">\n      <h5>\n        Secret Key : <span>\"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO\"</span>\n      </h5>\n      <div className=\"incoming\">\n        <h4>Incoming Data</h4>\n        <p>{state.cypher}</p>\n      </div>\n      <div className=\"crypt\">\n        <h4>Decypted Data</h4>\n        <p>{state.text}</p>\n      </div>\n    </div>\n  );\n}\nexport default Process;\n","import React, { useState } from \"react\";\nimport \"./home.scss\";\nimport { Link } from \"react-router-dom\";\n\nfunction Homepage({ socket }) {\n  const [username, setusername] = useState(\"\");\n  const [roomname, setroomname] = useState(\"\");\n  //activates joinRoom function defined on the backend\n  const sendData = () => {\n    if (username !== \"\" && roomname !== \"\") {\n      socket.emit(\"joinRoom\", { username, roomname });\n      //if empty error message pops up and returns to the same page\n    } else {\n      alert(\"username and roomname are must !\");\n      window.location.reload();\n    }\n  };\n\n  return (\n    <div className=\"homepage\">\n      <h1>Welcome to ChatApp</h1>\n      <input\n        placeholder=\"Input your user name\"\n        value={username}\n        onChange={(e) => setusername(e.target.value)}\n      ></input>\n      <input\n        placeholder=\"Input the room name\"\n        value={roomname}\n        onChange={(e) => setroomname(e.target.value)}\n      ></input>\n      <Link to={`/chat/${roomname}/${username}`}>\n        <button onClick={sendData}>Join</button>\n      </Link>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import Chat from \"./chat/chat\";\nimport Process from \"./process/process\";\nimport Home from \"./home/home\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.scss\";\nimport React from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io.connect('/');\n\nfunction Appmain(props) {\n  return (\n    <React.Fragment>\n      <div className=\"right\">\n        <Chat\n          username={props.match.params.username}\n          roomname={props.match.params.roomname}\n          socket={socket}\n        />\n      </div>\n      <div className=\"left\">\n        <Process />\n      </div>\n    </React.Fragment>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home socket={socket} />\n          </Route>\n          <Route path=\"/chat/:roomname/:username\" component={Appmain} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","//initialiaze the function with two arguments\nexport const ProcessReducer = (state = {}, action) => {\n  switch (action.type) {\n    //returns updated state\n    case \"PROCESS\":\n      return { ...action.payload };\n    //else the current state is retained\n    default:\n      return state;\n  }\n};","// import the reducers\nimport { ProcessReducer } from \"./process\";\nimport { combineReducers } from \"redux\";\n// define the object and call the action\nconst rootReducers = combineReducers({\n  ProcessReducer: ProcessReducer,\n});\n// else return default root reducer\nexport default rootReducers;","import App from \"./App\";\nimport rootReducers from \"./store/reducer/index\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport React from \"react\";\n\n//here we create an object to store the current state of the application\nconst store = createStore(rootReducers);\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);"]}}