(this.webpackJsonpchatfrontend=this.webpackJsonpchatfrontend||[]).push([[0],{159:function(e,t,n){},166:function(e,t){},168:function(e,t){},178:function(e,t){},180:function(e,t){},207:function(e,t){},209:function(e,t){},210:function(e,t){},215:function(e,t){},217:function(e,t){},223:function(e,t){},225:function(e,t){},244:function(e,t){},256:function(e,t){},259:function(e,t){},270:function(e,t,n){},271:function(e,t,n){},273:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var c=n(157),s=n(37),r=(n(159),n(160)),a="uI2ooxtwHeI6q69PS98fx9SWVGbpQohO",o=n(0),i=n.n(o),j=n(36),u=n(1);var l=function(e){var t=e.username,n=e.roomname,i=e.socket,l=Object(o.useState)(""),h=Object(s.a)(l,2),d=h[0],b=h[1],m=Object(o.useState)([]),O=Object(s.a)(m,2),x=O[0],f=O[1],p=Object(j.b)();Object(o.useEffect)((function(){i.on("message",(function(e){var t,n,s,o=function(e,t){return e.startsWith("Welcome")||e.startsWith(t)?e:r.decrypt(a,e)}(e.text,e.username);t=!1,n=o,s=e.text,p(function(e,t,n){return{type:"PROCESS",payload:{encrypt:e,text:t,cypher:n}}}(t,n,s)),console.log(o);var i=x;i.push({userId:e.userId,username:e.username,text:o}),f(Object(c.a)(i))}))}),[i]);var v=function(){if(""!==d){var e=function(e){return r.encrypt(a,e)}(d);i.emit("chat",e),b("")}},g=Object(o.useRef)(null);return Object(o.useEffect)((function(){g.current.scrollIntoView({behavior:"smooth"})}),[x]),console.log(x,"mess"),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsx)("div",{className:"user-name",children:Object(u.jsxs)("h2",{children:[t," ",Object(u.jsxs)("span",{style:{fontSize:"0.7rem"},children:["in ",n]})]})}),Object(u.jsxs)("div",{className:"chat-message",children:[x.map((function(e){return e.username===t?Object(u.jsxs)("div",{className:"message",children:[Object(u.jsx)("p",{children:e.text}),Object(u.jsx)("span",{children:e.username})]}):Object(u.jsxs)("div",{className:"message mess-right",children:[Object(u.jsxs)("p",{children:[e.text," "]}),Object(u.jsx)("span",{children:e.username})]})})),Object(u.jsx)("div",{ref:g})]}),Object(u.jsxs)("div",{className:"send",children:[Object(u.jsx)("input",{placeholder:"enter your message",value:d,onChange:function(e){return b(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&v()}}),Object(u.jsx)("button",{onClick:v,children:"Send"})]})]})};n(270);var h=function(){var e=Object(j.c)((function(e){return e.ProcessReducer}));return Object(u.jsxs)("div",{className:"process",children:[Object(u.jsxs)("h5",{children:["Secret Key : ",Object(u.jsx)("span",{children:'"uI2ooxtwHeI6q69PS98fx9SWVGbpQohO"'})]}),Object(u.jsxs)("div",{className:"incoming",children:[Object(u.jsx)("h4",{children:"Incoming Data"}),Object(u.jsx)("p",{children:e.cypher})]}),Object(u.jsxs)("div",{className:"crypt",children:[Object(u.jsx)("h4",{children:"Decypted Data"}),Object(u.jsx)("p",{children:e.text})]})]})},d=(n(271),n(58));var b=function(e){var t=e.socket,n=Object(o.useState)(""),c=Object(s.a)(n,2),r=c[0],a=c[1],i=Object(o.useState)(""),j=Object(s.a)(i,2),l=j[0],h=j[1];return Object(u.jsxs)("div",{className:"homepage",children:[Object(u.jsx)("h1",{children:"Welcome to ChatApp"}),Object(u.jsx)("input",{placeholder:"Input your user name",value:r,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("input",{placeholder:"Input the room name",value:l,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)(d.b,{to:"/chat/".concat(l,"/").concat(r),children:Object(u.jsx)("button",{onClick:function(){""!==r&&""!==l?t.emit("joinRoom",{username:r,roomname:l}):(alert("username and roomname are must !"),window.location.reload())},children:"Join"})})]})},m=n(5),O=(n(273),n(156)),x=n.n(O).a.connect("/");function f(e){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("div",{className:"right",children:Object(u.jsx)(l,{username:e.match.params.username,roomname:e.match.params.roomname,socket:x})}),Object(u.jsx)("div",{className:"left",children:Object(u.jsx)(h,{})})]})}var p=function(){return Object(u.jsx)(d.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{path:"/",exact:!0,children:Object(u.jsx)(b,{socket:x})}),Object(u.jsx)(m.a,{path:"/chat/:roomname/:username",component:f})]})})})},v=n(158),g=n(59),y=Object(g.a)({ProcessReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"PROCESS"===t.type?Object(v.a)({},t.payload):e}}),S=y,N=n(56),I=n.n(N),k=Object(g.b)(S);I.a.render(Object(u.jsx)(j.a,{store:k,children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[299,1,2]]]);
//# sourceMappingURL=main.9f2a045a.chunk.js.map